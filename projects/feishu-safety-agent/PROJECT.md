# é¡¹ç›®ï¼šé£ä¹¦å®‰å…¨å‘˜é…ç½®

> **é¡¹ç›® ID**: `feishu-safety-agent`
> **åˆ›å»ºæ—¥æœŸ**: 2026-02-25
> **çŠ¶æ€**: ğŸŸ¡ è¿›è¡Œä¸­ï¼ˆç­‰å¾…é£ä¹¦åå°é…ç½®ï¼‰
> **ä¼˜å…ˆçº§**: é«˜

---

## é¡¹ç›®ç›®æ ‡

é…ç½®ä¸¤ä¸ªç‹¬ç«‹çš„é£ä¹¦å®‰å…¨å‘˜ï¼ˆç”²å’Œä¹™ï¼‰ï¼Œé€šè¿‡ä¸åŒçš„é£ä¹¦åº”ç”¨å‘é€å‘Šè­¦é€šçŸ¥ï¼Œå®ç°æ¶ˆæ¯æ¥æºåŒºåˆ†ã€‚

---

## å½“å‰çŠ¶æ€

### âœ… å·²å®Œæˆ

| ä»»åŠ¡ | çŠ¶æ€ | å®Œæˆæ—¶é—´ |
|------|------|---------|
| åˆ›å»ºå®‰å…¨å‘˜ç”² (safety-guard-01) | âœ… | 2026-02-25 06:00 |
| åˆ›å»ºå®‰å…¨å‘˜ä¹™ (safety-guard-02) | âœ… | 2026-02-25 08:00 |
| é…ç½®é£ä¹¦åº”ç”¨å‡­è¯ | âœ… | 2026-02-25 08:00 |
| é…ç½® WebSocket æ¨¡å¼ | âœ… | 2026-02-25 08:12 |
| æ³¨å†Œåˆ° OpenClaw Gateway | âœ… | 2026-02-25 08:05 |
| åˆ›å»ºé…ç½®è¯´æ˜æ–‡æ¡£ | âœ… | 2026-02-25 08:15 |

### â³ å¾…å®Œæˆ

| ä»»åŠ¡ | çŠ¶æ€ | ä¾èµ– | é¢„è®¡è€—æ—¶ |
|------|------|------|---------|
| é…ç½®å®‰å…¨å‘˜ç”²çš„äº‹ä»¶è®¢é˜… | â³ ç­‰å¾…ç”¨æˆ· | é£ä¹¦åå° | 5 åˆ†é’Ÿ |
| é…ç½®å®‰å…¨å‘˜ä¹™çš„äº‹ä»¶è®¢é˜… | â³ ç­‰å¾…ç”¨æˆ· | é£ä¹¦åå° | 5 åˆ†é’Ÿ |
| è·å–å¹¶å¡«å†™ verifyTokenï¼ˆç”²ï¼‰ | â³ ç­‰å¾…ç”¨æˆ· | äº‹ä»¶è®¢é˜… | 2 åˆ†é’Ÿ |
| è·å–å¹¶å¡«å†™ verifyTokenï¼ˆä¹™ï¼‰ | â³ ç­‰å¾…ç”¨æˆ· | äº‹ä»¶è®¢é˜… | 2 åˆ†é’Ÿ |
| é‡å¯ Gateway | â³ | verifyToken é…ç½® | 1 åˆ†é’Ÿ |
| æµ‹è¯•é€šçŸ¥ï¼ˆç”²ï¼‰ | â³ | Gateway é‡å¯ | 1 åˆ†é’Ÿ |
| æµ‹è¯•é€šçŸ¥ï¼ˆä¹™ï¼‰ | â³ | Gateway é‡å¯ | 1 åˆ†é’Ÿ |

---

## é…ç½®æ‘˜è¦

### å®‰å…¨å‘˜ç”² (safety-guard-01)

| é…ç½®é¡¹ | å€¼ |
|--------|-----|
| Agent ID | `safety-guard-01` |
| ä¸­æ–‡åç§° | å®‰å…¨å‘˜ç”² |
| é£ä¹¦ App ID | `cli_a9f5a86d79f9dcd1` |
| é£ä¹¦ App Secret | `57NUmkWKTSY3oB2Q182uIexcZ3j0DETw` |
| è¿æ¥æ¨¡å¼ | WebSocket |
| æ¥æ”¶ç”¨æˆ· | `ou_9167b3651f12627c22d9678a41c4270d` |
| verifyToken | â³ å¾…é…ç½® |
| encryptKey | ç©º |

**é…ç½®æ–‡ä»¶**: `~/.openclaw/agents/safety-guard-01/agent/channels.json`

---

### å®‰å…¨å‘˜ä¹™ (safety-guard-02)

| é…ç½®é¡¹ | å€¼ |
|--------|-----|
| Agent ID | `safety-guard-02` |
| ä¸­æ–‡åç§° | å®‰å…¨å‘˜ä¹™ |
| é£ä¹¦ App ID | `cli_a9f5a86d79f9dcd1`ï¼ˆæ”¹ä¸ºä¸ç”²ç›¸åŒï¼‰ |
| é£ä¹¦ App Secret | `57NUmkWKTSY3oB2Q182uIexcZ3j0DETw` |
| è¿æ¥æ¨¡å¼ | WebSocket |
| æ¥æ”¶ç”¨æˆ· | `ou_9167b3651f12627c22d9678a41c4270d` |
| verifyToken | â³ å¾…é…ç½® |
| encryptKey | ç©º |

**é…ç½®æ–‡ä»¶**: `~/.openclaw/agents/safety-guard-02/agent/channels.json`

---

## å¾…ç”¨æˆ·é…åˆäº‹é¡¹

### é£ä¹¦åå°é…ç½®ï¼ˆä¸¤ä¸ªåº”ç”¨éƒ½è¦åšï¼‰

#### å®‰å…¨å‘˜ç”²çš„åº”ç”¨ï¼ˆcli_a9f5a86d79f9dcd1ï¼‰

1. æ‰“å¼€ï¼šhttps://open.feishu.cn/app/cli_a9f5a86d79f9dcd1
2. è¿›å…¥ã€Œäº‹ä»¶è®¢é˜…ã€
3. å¼€å¯ WebSocket è¿æ¥
4. è®¢é˜…äº‹ä»¶ï¼š`im.message.receive_v1`
5. å¤åˆ¶éªŒè¯ä»¤ç‰Œï¼ˆverifyTokenï¼‰
6. å‘é€ç»™ Hans TheBot

#### å®‰å…¨å‘˜ä¹™çš„åº”ç”¨ï¼ˆcli_a915a640dc385bcbï¼‰

1. æ‰“å¼€ï¼šhttps://open.feishu.cn/app/cli_a915a640dc385bcb
2. è¿›å…¥ã€Œäº‹ä»¶è®¢é˜…ã€
3. å¼€å¯ WebSocket è¿æ¥
4. è®¢é˜…äº‹ä»¶ï¼š`im.message.receive_v1`
5. å¤åˆ¶éªŒè¯ä»¤ç‰Œï¼ˆverifyTokenï¼‰
6. å‘é€ç»™ Hans TheBot

---

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç”¨æˆ·ä¾§ï¼ˆä¸‹æ¬¡ç»§ç»­æ—¶ï¼‰

1. ç™»å½•é£ä¹¦å¼€å‘è€…åå°
2. é…ç½®ä¸¤ä¸ªåº”ç”¨çš„äº‹ä»¶è®¢é˜…
3. è·å–ä¸¤ä¸ª verifyToken
4. å‘é€ç»™ Hans TheBot

### Agent ä¾§ï¼ˆæ”¶åˆ° verifyToken åï¼‰

1. æ›´æ–° `~/.openclaw/agents/safety-guard-01/agent/channels.json`
2. æ›´æ–° `~/.openclaw/agents/safety-guard-02/agent/channels.json`
3. æ‰§è¡Œ `openclaw gateway restart`
4. æµ‹è¯•ä¸¤ä¸ªå®‰å…¨å‘˜çš„é€šçŸ¥
5. éªŒè¯æ¶ˆæ¯æ˜¯å¦é€šè¿‡å„è‡ªçš„åº”ç”¨å‘é€

---

## ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| `~/.openclaw/agents/safety-guard-01/agent/channels.json` | å®‰å…¨å‘˜ç”²é£ä¹¦é…ç½® |
| `~/.openclaw/agents/safety-guard-02/agent/channels.json` | å®‰å…¨å‘˜ä¹™é£ä¹¦é…ç½® |
| `~/.openclaw/agents/safety-guard-01/scripts/safety-agent.sh` | å®‰å…¨å‘˜ç”²ä¸»è„šæœ¬ |
| `~/.openclaw/agents/safety-guard-02/scripts/safety-agent.sh` | å®‰å…¨å‘˜ä¹™ä¸»è„šæœ¬ |
| `~/.openclaw/CONFIG_EXPLANATION.md` | é…ç½®è¯´æ˜æ–‡æ¡£ |
| `~/.openclaw/workspace/PROTECTION_PROTOCOL.md` | ä¿æŠ¤åè®® |

---

## æŠ€æœ¯è¯´æ˜

### ä¸ºä»€ä¹ˆéœ€è¦äº‹ä»¶è®¢é˜…ï¼Ÿ

å³ä½¿ä½¿ç”¨ WebSocket æ¨¡å¼ï¼Œé£ä¹¦åº”ç”¨ä¹Ÿéœ€è¦ï¼š
1. **å¼€å¯ WebSocket è¿æ¥**ï¼šå»ºç«‹é•¿è¿æ¥
2. **è®¢é˜…äº‹ä»¶**ï¼šå‘Šè¯‰é£ä¹¦ä½ è¦æ¥æ”¶ä»€ä¹ˆç±»å‹çš„æ¶ˆæ¯
3. **éªŒè¯ä»¤ç‰Œ**ï¼šç”¨äºéªŒè¯æ¶ˆæ¯æ¥æºçš„åˆæ³•æ€§

### é…ç½®æ¶æ„

```
Gateway (openclaw.json)
â””â”€â”€ é£ä¹¦åº”ç”¨ A (cli_a9f5a86d79f9dcd1)
    â”œâ”€â”€ main agent
    â”œâ”€â”€ safety-guard-01 (å®‰å…¨å‘˜ç”²)
    â””â”€â”€ safety-guard-02 (å®‰å…¨å‘˜ä¹™)
```

**æ³¨æ„**ï¼šå½“å‰ OpenClaw ç‰ˆæœ¬åªæ”¯æŒä¸€ä¸ªé£ä¹¦æ’ä»¶å®ä¾‹ï¼Œæ‰€ä»¥å®‰å…¨å‘˜ä¹™æ”¹ä¸ºä½¿ç”¨ä¸åº”ç”¨ A ç›¸åŒçš„é…ç½®ã€‚æ¶ˆæ¯æ¥æºé€šè¿‡å†…å®¹å‰ç¼€åŒºåˆ†ï¼ˆå¦‚"ã€å®‰å…¨å‘˜ç”²ã€‘"å’Œ"ã€å®‰å…¨å‘˜ä¹™ã€‘"ï¼‰ã€‚

---

## æ¢å¤å‘½ä»¤

ä¸‹æ¬¡ç»§ç»­æ—¶ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¿«é€Ÿæ¢å¤ï¼š

```bash
# æŸ¥çœ‹é¡¹ç›®çŠ¶æ€
cat ~/.openclaw/workspace/projects/feishu-safety-agent/PROJECT.md

# æ£€æŸ¥å½“å‰é…ç½®
cat ~/.openclaw/agents/safety-guard-01/agent/channels.json
cat ~/.openclaw/agents/safety-guard-02/agent/channels.json

# æµ‹è¯•é€šçŸ¥ï¼ˆé…ç½®å®Œæˆåï¼‰
~/.openclaw/agents/safety-guard-01/scripts/safety-agent.sh test-notify
~/.openclaw/agents/safety-guard-02/scripts/safety-agent.sh test-notify
```

---

## é¡¹ç›®æ—¶é—´çº¿

| æ—¥æœŸ | äº‹ä»¶ |
|------|------|
| 2026-02-25 06:00 | åˆ›å»ºå®‰å…¨å‘˜ç”² |
| 2026-02-25 08:00 | åˆ›å»ºå®‰å…¨å‘˜ä¹™ |
| 2026-02-25 08:05 | æ³¨å†Œåˆ° Gateway |
| 2026-02-25 08:12 | é…ç½® WebSocket æ¨¡å¼ |
| 2026-02-25 08:15 | åˆ›å»ºé…ç½®è¯´æ˜æ–‡æ¡£ |
| 2026-02-25 08:17 | æš‚åœé¡¹ç›®ï¼Œç­‰å¾…ç”¨æˆ·é…ç½®é£ä¹¦åå° |

---

**æœ€åæ›´æ–°**: 2026-02-25 08:17
**ä¸‹æ¬¡ç»§ç»­**: ç”¨æˆ·æä¾› verifyToken å
